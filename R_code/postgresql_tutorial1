# Libraries only need to be installed once
		install.packages("DBI") # Generic database connector 
		install.packages("RPostgreSQL") # optional
		install.packages("rpostgis") # optional
		
		# Load library
		library(DBI)
		library(RPostgreSQL)
		library(RPostgis) # optional

# create conection to the db

        con2 <- DBI::dbConnect(drv = "PostgreSQL", user='georodco_pubu', password='Covid19Ecuador', host='66.198.240.224', port=5432,dbname='georodco_covid19')

		# ask db for table ecu_covid19
		res <- dbSendQuery(con2, "SELECT * FROM ecu_covid19")
		cv19 <- dbFetch(res)
		
		# check number of rows and columns (25x15)
		dim(cv19)
		
		# check out first (6) rows in the table
		head(cv19)
		
        # Working with spatial data found in Postgres
		#Method 1: use package sf
		library(sf)
		prov <- st_read(con, layer="provinces")
		library(ggplot2)
		ggplot(prov) +  geom_sf() + theme_bw()
		
		# Subset data, only map Galapagos Islands
		galapagos <- st_read(con, query="SELECT gid, dpa_provin, dpa_despro, geom FROM provinces WHERE dpa_provin='20'")
		ggplot(galapagos) +  geom_sf() + theme_bw()
		
		# delete connection object
		dbClearResult(res)

		# disconnect from the db
		dbDisconnect(con)
